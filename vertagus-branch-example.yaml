scm:
  type: git
  tag_prefix: v
  # New branch-based version checking configuration
  version_strategy: branch  # Options: "tag" (default) or "branch"
  target_branch: main       # Branch to compare versions against

project:

  rules:
    current:
      - not_empty
    increment:
      - any_increment

  manifests:
    - type: setuptools_pyproject
      path: ./pyproject.toml
      name: pyproject

  stages:

    dev:
      rules:
        current:
          - regex_dev_mmp
    beta:
      aliases:
        - string:latest
      rules:
        current:
          - regex_beta_mmp
    prod:
      aliases:
        - string:stable
        - string:latest
        - major.minor
      rules:
        current:
          - regex_mmp